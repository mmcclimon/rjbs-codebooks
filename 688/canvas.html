<html>
  <div style='display:flex; align-items: center; align-content: center; justify-content: center; width:100%; height: 100%; outline: thick blue solid'>
    <canvas style='outline:thin black solid' id='canvas' width=500 height=500 />
  </div>
  <script>
    var last = { x: 200, y: 50 };
    var dir  = { x: +1, y: +1 };

    var player = { x: 200, y: 250 };

    var target  = "Setec Astronomy";
    var chars   = target.split('');
    var hidden  = new Set( chars.keys() );
    var pick    = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');

    const randInt = i => Math.floor( Math.random() * i );

    const getRandom = s => [...s.values()][ randInt(s.size) ];

    function nextStringState () {
      if (hidden.size == 0) return { random: "", found: target };

      if (Math.random() > 0.98) hidden.delete( getRandom(hidden) );

      let state = {};
      state.random = chars.map(
        (c, i) => hidden.has(i) ? pick[ randInt(pick.length) ] : ' ')
        .join('');

      state.found  = chars.map((c, i) => hidden.has(i) ? ' ' : c).join('');

      return state;
    }

    var tick = 0;
    function draw() {
      tick++;
      var canvas = document.getElementById('canvas');
      if (canvas.getContext) {
        var ctx = canvas.getContext('2d');

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        last.x += Math.random() * 4 * dir.x;
        last.y += Math.random() * 4 * dir.y;

        if (last.x + 50 >= canvas.width || last.x <= 0) {
          dir.x *= -1;
        }

        if (last.y + 50 >= canvas.height || last.y <= 0) {
          dir.y *= -1;
        }

        ctx.strokeStyle = 'black';
        ctx.fillStyle = 'pink';

        ctx.fillRect(last.x, last.x, 50, 50);

        ctx.beginPath();
        ctx.strokeStyle = 'blue';
        ctx.moveTo(100, 100);

        const tock = tick * 2 % 401;
        const dy   = (tock > 200 ? 400 - tock : tock) - 100;
        const dx   = dy / 2;

        ctx.bezierCurveTo(200 + dx, 100 - dy, 300 + dx, 100 + dy, 400, 100);
        ctx.stroke();

        let stringState = nextStringState();
        ctx.font = '48px monospace';

        ctx.fillStyle = 'red';
        ctx.fillText(stringState.random, 35, 50);

        ctx.fillStyle = 'green';
        ctx.fillText(stringState.found, 35, 50);

        ctx.strokeStyle = 'orange';
        ctx.fillStyle   = 'purple';
        ctx.beginPath();
        ctx.arc(player.x, player.y, 20, 0, 2 * Math.PI);
        ctx.fill();
      }

      window.requestAnimationFrame(draw);
    }
    window.requestAnimationFrame(draw);

    document.addEventListener("keyup", event => {
      if (event.code == 'KeyH') { if (player.x >  50) player.x -= 25; }
      if (event.code == 'KeyJ') { if (player.y < 450) player.y += 25; }
      if (event.code == 'KeyK') { if (player.y >  50) player.y -= 25; }
      if (event.code == 'KeyL') { if (player.x < 450) player.x += 25; }
    });
  </script>
</html>
